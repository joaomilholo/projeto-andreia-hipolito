---
import { Menu, X } from "@lucide/astro";
import Button from "./Button.astro";
---

<nav
  class="bg-[#453130] shadow-md sticky top-0 z-100 w-full h-[100px] flex justify-center items-center"
>
  <div class="w-full max-w-[1440px] h-full flex items-center justify-between px-6 md:px-10">
    <div class="flex items-center">
      <a href="/">
        <img src="/logo-navbar.png" alt="Logo" class="h-full w-[100px]" />
      </a>
    </div>

    <div class="hidden md:flex items-center gap-6 font-bold text-white">
      <a
        href="/"
        class="relative after:absolute after:left-0 after:bottom-0 after:w-0 after:h-[2px] after:bg-[#C39258] after:transition-all after:duration-300 hover:after:w-full"
        >Home</a
      >
      <a
        href="/#services"
        class="relative after:absolute after:left-0 after:bottom-0 after:w-0 after:h-[2px] after:bg-[#C39258] after:transition-all after:duration-300 hover:after:w-full"
        >Serviços</a
      >
      <a
        href="/#testimonials"
        class="relative after:absolute after:left-0 after:bottom-0 after:w-0 after:h-[2px] after:bg-[#C39258] after:transition-all after:duration-300 hover:after:w-full"
        >Depoimentos</a
      >
      <a
        href="/sobre"
        class="relative after:absolute after:left-0 after:bottom-0 after:w-0 after:h-[2px] after:bg-[#C39258] after:transition-all after:duration-300 hover:after:w-full"
        >Sobre nós</a
      >
      <Button text="Entre em contato" link="/#contact" />
    </div>

    <!--Mobile mobile -->
    <div class="md:hidden flex items-center">
      <button
        id="mobile-menu-button"
        class="text-white focus:outline-none cursor-pointer transition-transform delay-75 duration-300 ease-in-out hover:scale-120"
      >
        <Menu class="" />
      </button>
    </div>
  </div>

  <div
    id="mobile-menu"
    class="fixed top-0 right-[-50%] h-full w-1/2 bg-[#453130] shadow-lg flex flex-col p-6 gap-6 text-white font-bold transition-all duration-300 z-50"
  >
    <button
      id="close-menu"
      class="self-end cursor-pointer transition-transform delay-75 duration-300 ease-in-out hover:scale-120 text-white text-2xl font-bold"
    >
      <X />
    </button>
    <a class="transition-colors duration-200 hover:text-[#C39258]" href="/">Home</a>
    <a class="transition-colors duration-200 hover:text-[#C39258]" href="/#services">Serviços</a>
    <a class="transition-colors duration-200 hover:text-[#C39258]" href="/#testimonials"
      >Depoimentos</a
    >
    <a class="transition-colors duration-200 hover:text-[#C39258]" href="/sobre">Sobre nós</a>
    <a class="transition-colors duration-200 hover:text-[#C39258]" href="/#contact"
      >Entre em contato</a
    >
  </div>

  <script>
    const button = document.getElementById("mobile-menu-button");
    const menu = document.getElementById("mobile-menu");
    const closeButton = document.getElementById("close-menu");

    if (button && menu && closeButton) {
      button.addEventListener("click", () => {
        menu.style.right = "0";
      });

      closeButton.addEventListener("click", () => {
        menu.style.right = "-50%";
      });

      menu.querySelectorAll("a").forEach((link) => {
        link.addEventListener("click", () => {
          menu.style.right = "-50%";
        });
      });
    }
  </script>
</nav>
